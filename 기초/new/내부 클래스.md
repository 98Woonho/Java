# 내부 클래스

## 목차

## 1. 내부 클래스
내부 클래스는 클래스 안에 만들어진 또 다른 클래스로 중첩 클래스라고도 부른다. 클래스에 다른 클래스를 선언하는 이유는 두 개의 클래스가 서로 긴밀한 관계를 맺고 있기 때문이다. 내부 클래스는 다음과 같은 장점이 있다.
```
- 두 클래스 멤버들 간에 손쉽게 접근할 수 있다.
- 불필요한 클래스를 감춰서 코드의 복잡성을 줄일 수 있다.
```

구조는 아래와 같습니다.

```java
public class OuterClass { // 와부 클래스
    ...;
    class InnerClass { // 내부 클래스
        ...;
    }
}
```

## 2. 내부 클래스의 종류
내부 클래스는 클래스 안에서 선언된 위치에 따라 인스턴스 클래스, 정적 클래스, 지역 클래스, 익명 클래스로 구분된다.

| 메서드  |설명|
|:----:|-|
|인스턴스 클래스|외부 클래스의 멤버 변수와 같은 위치에 선언<br/>주로 외부 클래스의 멤버 변수와 관련된 작업에 사용될 목적으로 선언|
|정적 클래스|외부 클래스의 클래스 변수와 같이 static 키워드 부여|
|지역 클래스|외부 클래스의 메서드 내부에서 선언하여 사용<br/>메서드 영역에서 선언되기 때문에 메서드 내부에서만 사용 가능|

### 2-1. 인스턴스 클래스(instance class)
인스턴스 클래스는 외부 클래스 내부에서 생성하고, 선언되어 사용하는 클래스를 의미한다. 인스턴스 변수와 같은 위치에 선언하며, 외부 클래스의 인스턴스 멤버처럼 다루어진다. 주로 외부 클래스의 인스턴스 멤버들과 관련된 작업에 사용될 목적으로 선언된다.

다음과 같이 인스턴스 클래스는 인스턴스 멤버와 동일한 위치에 생성된다.
```java
public class Outer {
    private String name; // 인스턴스 멤버
    ...
    
    public class Inner { // 인스턴스 클래스
        private String name;
        ...
    }
}
```


인스턴스 클래스 객체를 선언하는 방법은 다음과 같다.
```java
Outer outer = new Outer(); // 외부 클래스 객체 생성
Outer.Inner in = outer.new Inner(); // 외부 클래스를 이용해 내부 클래스 객체 생성
```

예제를 통해 인스턴스 클래스의 동작을 확인해 보겠습니다.
> ### 인스턴스 클래스
> ```java
> class Calculator {
>     private int val1;
>     private int val2;
> 
>     public Calculator(int val1, int val2) {
>         this.val1 = val1;
>         this.val2 = val2;
>     }
> 
>     public class Calc {
>         public int add() {
>             return val1 + val2;
>         }
>     }
> } 
>
> public class Practice {
>     public static void main(String[] args) {
>         Calculator cal = new Calculator(10, 11); // 외부 클래스 선언
>         Calculator.Calc c = cal.new Calc(); // 인스턴스 클래스 선언
>         System.out.println("합 : " + c.add());
>     } 
> }
> ```
> ### 실행 결과
> ```
> 합 : 21
> ```


### 2-2. 정적 내부 클래스(static class)
클래스 안에 정적 변수를 선언할 수 있는 것처럼 클래스도 정적 클래스를 만들 수 있다. 인스턴스 변수와 마찬가지로 static 키워드를 사용해 클래스를 선언한 후 정적 내부 클래스를 생성한다. 주로 외부 클래스의 static 메서드에서 사용될 목적으로 선언된다.

다음과 같이 정적 내부 클래스는 인스턴스 멤버와 동일한 위치에 선언된다.
```java
public class Outer {
    private String name; // 인스턴스 멤버
    
    public static class Inner { // 정적 내부 클래스
        private String name; 
        ...
    }
}
```

static 키워드를 사용해 정적 내부 클래스를 선언했기 때문에, 외부 클래스의 인스턴스 변수 또는 메서드를 사용할 수 없다.
```java
public class OuterClass {
    private int val1; // 인스턴스 변수
    
    static class innerClass {
        public void add() {
            int result = val1 + 10; // 오류 발생
        }
    }
}
```

예제를 통해 정적 내부 클래스의 동작을 확인해 보겠습니다.

> ### 정적 내부 클래스
> ```java
> class PrintOut {
>     // 정적 내부 클래스 선언
>     public static class Out {
>         public void println(String str) {
>             System.out.println(str);
>         }
>     } 
> }
> 
> public class Practice {
>     public static void main(String[] args) {
>         String str = "정적 내부 클래스 테스트";
>         PrintOut.Out out = new PrintOut.Out(); // 외부 클래스 없이 정적 내부 클래스 객체 생성
>         out.println(str);
>     } 
> }
> ```
> ### 실행 결과
> ```
> 정적 내부 클래스 테스트
> ```

### 2-3. 지역 클래스(local class)
지역 클래스는 외부 클래스의 메서드 내에서 선언되어 사용하는 클래스이다. 메서드 내에서 선언되기 때문에 해당 클래스는 메서드 내에서만 사용할 수 있다. 또한 메서드의 실행이 끝나면 해당 클래스도 사용이 종료된다.

지역 클래스는 다음과 같이 메서드 내에서 선언하고 사용한다.
```java
public class LocalClass {
    ...
    public void print() {
        ...
        class A { // 지역 클래스 선언 
            ...
        }
        
        A a = new A(); // 메서드 내에서 사용
    }
}
```

> ### 지역 클래스 예제
> ```java
> public class Practice {
>     private int speed = 10;
> 
>     public void getUnit(String unitName) {
>         class Unit { // 지역 클래스
>             public void move() {
>                 System.out.println(unitName + "이 " + speed + " 속도로 이동합니다.");
>             }
>         }
> 
>         Unit unit = new Unit();
>         unit.move();
>     }
>
>     public static void main(String[] args) {
>         Practice prac = new Practice();
>         prac.getUnit("마린");
>     } 
> }
> ```
> ### 실행 결과
> ```
> 마린이 10 속도로 이동합니다.
> ```


## 3. 내부 클래스의 접근 제한
멤버 클래스 내부에서 외부 클래스의 필드와 메서드에 접근할 때는 제한이 따른다. 또한 내부 클래스의 선어 ㄴ위치에 따라서 생기는 제약들도 존재한다.

### 3-1. 접근 제한자
